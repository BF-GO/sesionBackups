<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<title>Session Saver</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap"
			rel="stylesheet"
		/>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<main>
			<div class="tab-container">
				<div class="tabs">
					<button class="tab-button active" data-tab="sessions">
						<img src="icons/sessions.png" alt="Сессии" class="tab-icon" />
						<span class="tab-label">Сессии</span>
					</button>
					<button class="tab-button" data-tab="statistics">
						<img src="icons/statistics.png" alt="Статистика" class="tab-icon" />
						<span class="tab-label">Статистика</span>
					</button>
					<button class="tab-button" data-tab="schedule">
						<img src="icons/schedule.png" alt="Планирование" class="tab-icon" />
						<span class="tab-label">Планирование</span>
					</button>
					<button class="tab-button" data-tab="settings">
						<img src="icons/gear.png" alt="Настройки" class="tab-icon" />
						<span class="tab-label">Настройки</span>
					</button>
				</div>
			</div>

			<!-- Контейнер для динамического содержимого вкладок -->
			<div id="contentContainer">
				<!-- Шаблоны, скрытые от отображения -->
				<template id="sessionsTabTemplate">
					<!-- Содержимое вкладки "Сессии" -->
					<div class="tab-content" id="sessions">
						<div class="tab-inner-content">
							<div class="header">
								<h1>Сессии</h1>
							</div>
							<div class="sessions-controls">
								<input
									type="text"
									id="searchInput"
									placeholder="Поиск сессий..."
								/>
								<button id="createGroupBtn" class="button-small">
									<img
										src="icons/add.png"
										alt="Создать Группу"
										class="button-icon"
									/>
									Создать Группу
								</button>
							</div>

							<!-- Форма для создания группы -->
							<div id="createGroupForm" style="display: none">
								<label for="groupNameInput">Название группы:</label>
								<input
									type="text"
									id="groupNameInput"
									placeholder="Введите название группы"
								/>

								<div class="group-option">
									<label>
										<input
											type="radio"
											name="groupType"
											value="session"
											id="groupSessionOption"
											checked
										/>
										Добавить существующие сессии
									</label>
									<label>
										<input
											type="radio"
											name="groupType"
											value="custom"
											id="groupCustomOption"
										/>
										Ввести свои ссылки
									</label>
								</div>

								<!-- Опции для добавления существующих сессий -->
								<div id="sessionGroupOptions">
									<label for="sessionSelectForGroup"
										>Выберите сессии для добавления в группу:</label
									>
									<select id="sessionSelectForGroup" multiple>
										<!-- Опции будут заполнены динамически -->
									</select>
								</div>

								<!-- Опции для ввода своих ссылок -->
								<div id="customGroupOptions" style="display: none">
									<label>Введите ссылки:</label>
									<div id="customGroupUrlsContainer">
										<div class="url-input-group">
											<input
												type="url"
												class="customGroupUrl"
												placeholder="https://example.com"
												required
											/>
										</div>
									</div>
									<button
										type="button"
										id="addGroupUrlBtn"
										class="button-small"
									>
										+
									</button>
								</div>

								<button id="saveGroupBtn" class="button">
									Сохранить Группу
								</button>
								<button id="cancelGroupBtn" class="button">Отмена</button>
							</div>

							<div class="sessions-container">
								<div class="session-list" id="autoSessions">
									<h3>Автоматические Сессии</h3>
									<p>Нет доступных сессий</p>
								</div>
								<div class="session-list" id="changeSessions">
									<h3>Сессии при Изменении Вкладок</h3>
									<p>Нет доступных сессий</p>
								</div>
								<!-- Секция для пользовательских групп -->
								<div class="session-list" id="customGroups">
									<h3>Пользовательские Группы</h3>
									<p>Нет доступных групп</p>
								</div>
							</div>
							<div class="controls">
								<button id="saveBtn" class="button">
									<img
										src="icons/save.png"
										alt="Сохранить"
										class="button-icon"
									/>
									Сохранить Текущую Сессию
								</button>
							</div>
						</div>
					</div>
				</template>

				<template id="statisticsTabTemplate">
					<!-- Содержимое вкладки "Статистика" -->
					<div class="tab-content" id="statistics">
						<div class="tab-inner-content">
							<div class="header">
								<div class="back-button" id="backBtnStatistics">
									<img src="icons/back.png" alt="Назад" />
								</div>
								<h2>Статистика</h2>
							</div>
							<div class="statistics-container">
								<div class="statistics-item">
									<h3>Всего Сессий</h3>
									<p id="totalSessions">0</p>
								</div>
								<div class="statistics-item">
									<h3>Всего Вкладок</h3>
									<p id="totalTabs">0</p>
								</div>
								<div class="statistics-item">
									<h3>Самый Частый Сайт</h3>
									<p id="mostFrequentSite">N/A</p>
								</div>
							</div>
						</div>
					</div>
				</template>

				<template id="scheduleTabTemplate">
					<!-- Содержимое вкладки "Планирование" -->
					<div class="tab-content" id="schedule">
						<div class="tab-inner-content">
							<div class="header">
								<div class="back-button" id="backBtnSchedule">
									<img src="icons/back.png" alt="Назад" />
								</div>
								<h2>Планирование</h2>
							</div>
							<div class="schedule-container">
								<div class="schedule-form">
									<!-- Радио-кнопки для выбора типа планировки -->
									<div class="schedule-option">
										<label>
											<input
												type="radio"
												name="scheduleType"
												value="session"
												id="scheduleSessionOption"
												<!--
												Добавлен
												id
												--
											/>
											checked /> Выбрать сохранённую сессию
										</label>
										<label>
											<input
												type="radio"
												name="scheduleType"
												value="custom"
												id="scheduleCustomOption"
												<!--
												Добавлен
												id
												--
											/>
											/> Ввести свои ссылки
										</label>
									</div>

									<!-- Выбор сохраненной сессии -->
									<div id="sessionScheduleOptions">
										<!-- Изменён ID -->
										<label for="sessionSelect"
											>Выберите сессию для восстановления:</label
										>
										<select id="sessionSelect">
											<!-- Опции будут заполнены динамически -->
										</select>
									</div>

									<!-- Ввод своих ссылок -->
									<div id="customScheduleOptions" style="display: none">
										<!-- Изменён ID -->
										<label>Введите ссылки:</label>
										<div id="customUrlsContainer">
											<div class="url-input-group">
												<input
													type="url"
													class="customUrl"
													placeholder="https://example.com"
													required
												/>
											</div>
										</div>
										<button type="button" id="addUrlBtn" class="button-small">
											+
										</button>
									</div>

									<label for="scheduleDateTime"
										>Выберите дату и время открытия:</label
									>
									<input type="datetime-local" id="scheduleDateTime" />

									<button id="addScheduleBtn" class="button-small">
										Добавить Планировку
									</button>
								</div>
								<div class="scheduled-list">
									<h3>Запланированные открытия</h3>
									<ul id="scheduledSessionsList">
										<!-- Список запланированных сессий будет заполнен динамически -->
									</ul>
								</div>
							</div>
						</div>
					</div>
				</template>

				<template id="settingsTabTemplate">
					<!-- Содержимое вкладки "Настройки" -->
					<div class="tab-content" id="settings">
						<div class="tab-inner-content">
							<div class="header">
								<div class="back-button" id="backBtn">
									<img src="icons/back.png" alt="Назад" />
								</div>
								<h2>Настройки</h2>
							</div>
							<div class="settings-items">
								<!-- Интервал Автобэкапа -->
								<div class="setting-item">
									<img
										src="icons/time.png"
										alt="Интервал"
										class="setting-icon"
									/>
									<label for="intervalInput"
										>Интервал Автобэкапа (минут):</label
									>
									<input type="number" id="intervalInput" min="1" value="10" />
								</div>

								<!-- Переключатель Уведомлений -->
								<div class="setting-item notification-toggle">
									<img
										src="icons/notification.png"
										alt="Уведомления"
										class="setting-icon"
									/>
									<span class="toggle-label">Push Уведомления:</span>
									<label class="switch">
										<input type="checkbox" id="notificationSwitch" />
										<span class="slider"></span>
									</label>
								</div>

								<!-- Переключатель Темы -->
								<div class="setting-item theme-toggle-container">
									<span class="toggle-label">Тема:</span>
									<div class="theme-icons">
										<img
											src="icons/sun.png"
											alt="Светлая тема"
											class="theme-icon"
										/>
										<label class="switch">
											<input type="checkbox" id="themeSwitch" />
											<span class="slider"></span>
										</label>
										<img
											src="icons/moon.png"
											alt="Тёмная тема"
											class="theme-icon"
										/>
									</div>
								</div>

								<!-- Экспорт и Импорт -->
								<div class="setting-item import-export-container">
									<h3>Экспорт/Импорт Сессий</h3>
									<button id="exportBtn" class="button-small">
										Экспортировать Сессии
									</button>
									<input
										type="file"
										id="importFileInput"
										accept="application/json"
										style="display: none"
									/>
									<button id="importBtn" class="button-small">
										Импортировать Сессии
									</button>
								</div>
							</div>
						</div>
					</div>
				</template>
			</div>
		</main>
		<script src="popup.js"></script>
	</body>
</html>
